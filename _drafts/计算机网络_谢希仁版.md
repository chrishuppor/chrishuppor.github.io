[TOC]

# 第一章 概述

*PS.如作者所说，回头看会感觉清晰许多*

## internet和Internet

* internet是互联网，是一种概念，泛指由多个计算机网络连接成的网络，可以使用任意通信协议
* Internet是因特网，是一个实体，是全球最大、最开放的一个互联网，使用TCP/IP协议。

## 因特网的组成

### 边缘部分——终端，使用网络服务的

* 端对端通信方式
  * C/S——客户端请求并使用服务，服务端提供服务
  * P2P——不区分客户端和服务端的对等通信

### 核心部分——由大量网络和连接这些网络的路由器组成，提供网络服务的

* 数据交换方式

  |          | 原理                                                         | 示例 |
  | -------- | ------------------------------------------------------------ | ---- |
  | 电路交换 | 通信双方先建立连接再进行数据交换                             | 电话 |
  | 报文交换 | 通信方发出报文，通信节点全部接收并存储，然后转发给下一个通信节点，并逐个转发直到另一个通信方收到 | 电报 |
  | 分组交换 | 通信方将报文分成多个数据包分组发出，通信节点接收、存储并转发给分组交换网下一个节点，逐个转发，直到对方收到 | 网络 |

* 分组交换优缺点

  * 优点
    * 高效——动态分配带宽，逐段占用通信链路，避免了通信资源的占用浪费
    * 灵活——为每一个分组独立的选择合适的路由
    * 迅速——不用等待建立连接
    * 可靠——通过通信协议来保证可靠性
  * 缺点
    * 通信带宽不能保证
    * 转发可能出现时延
    * 各分组需要携带额外的控制信息
    * 分组交换网需要维护

## 网络类型

* 按网络范围划分：广域网、城域网、局域网
* 按使用者划分：公用网、专用网
* 用户接入因特网的网络：接入网

## 网络性能指标

* **速率**（网速）：网络每秒传输的bit数，单位bps(b/s)
* **带宽**：最大网速，即网络每秒最多能传输的bit数，单位bps(b/s)
  * 注意：网络中的1M=1000K，计算机中1M=1024K
* **吞吐量**：单位时间内，网络传输的数据量
* **时延**=发送时延+传输时延+处理时延+排队时延（所以哪种时延都有可能成为瓶颈）
  * 发送时延（传输时延）：主机或路由器开始发送第一个比特到对最后一个比特发送完所需的时间。
    * 发送时延=数据量/发送速率
  * 传播时延：数据在信道中传输需要的时间
    * 传输时延=信道长度/电磁波在信道中的传输速度
  * 处理时延
  * 排队时延
* 时延带宽积 = 传播时延 * 带宽
  * 表示发送端一次发动的最大数据量
* 往返时间RTT
  * 往返时间 * 带宽：表示发送端在接收到回信之前已经发送的最大数据量
* 利用率
  * 信道利用率表示该信道有百分之几的时间被使用，网络利用率是各个信道利用率加权平均值
  * 信道利用率越高，时延就越长，当利用率为1时，时延趋于无穷大，所以当高于50%时ISP就会扩容

##  网络协议

- 网络中数据交换的规则，包含语法、语义、同步三要素。
- 要考虑到所有不利条件，能够处理各种异常情况

## 两个计算机网络体系结构标准

* OSI：法律上的网络互联系统国际标准
  * 7层
  * 没有被广泛遵守的原因
    * 规则的制定缺少商业考虑
    * 实现复杂，运行效率低
    * 网络体系结构层次划分不清楚，有重叠部分
    * 制定周期长，对应产品没有及时投放市场；因特网抢先占据大份额市场，掌握了标准的话语权
* TCP/IP：实际上的网络互联系统国际标准
  * 4层

## 五层协议体系结构

在计算机网络原理教学中使用，结合了OSI和TCP/IP优点。

![图](Snipaste_2020-02-29_20-09-54.png)

* 横向层间（协议）——传输的数据名称（都可以称为PDU，协议数据单元）

  * 应用层——消息(message)
    * 协议：HTTP SMTP FTP
  * 传输层——数据段(segment)
    * 协议：TCP UDP
  * 网络层——分组或包或数据报（packet/datagram）
    * 协议：IP
    * 重要功能：路由选择
  * 链路层——帧（frame）
    * 重要功能：检错纠错
  * 物理层——P-PDU（bit）
    * 发送方如何表示比特的1和0
    * 接收方如何识别1和0
    * 其它层都会对上一层的数据进一步封装（添加控制信息），物理层则直接传输比特流

  ![图](Snipaste_2020-02-29_20-32-32.png)

* 纵向层间（服务）——传输的数据是SDU，服务数据单元

  * 下层向上层提供服务，上层对下层协议一无所知，只是使用下层提供的服务

  * 上层通过服务访问点SAP访问下层服务

    ![图](Snipaste_2020-02-29_22-44-43.png)

## TCP/IP体系结构

* 实际中某些应用层实体可以跨过传输层直接使用IP层和网络接口层

  ![图](Snipaste_2020-02-29_22-58-56.png)

* 支持各种应用层协议和网络接口协议，IP协议起到核心作用

  ![图](Snipaste_2020-02-29_23-00-45.png)

## 其他

### ISP和IXP

- ISP是因特网服务提供商（eg中国三大运营商），从IP管理机构获得IP地址，为用户提供网络服务并收取费用。
- IXP是因特网交换点，用于连接不同网络，使其能直接进行数据交换，从而提高网络数据传输效率。（不为用户提供网络服务，仅用于数据交换，几乎不收费）

### 标准化工作

- 如果没有行业标准，就容易出现多种技术并存，产品互不兼容的混乱局面