---
layout: post
title: "传输层协议常识"
pubtime: 2020-04-23
updatetime: 2020-05-11
categories: network LearningNote
tags: guide
---

传输层协议常识。

# 传输层协议

## 与网络层的关键区别

* 传输层协议与网络层协议的关键区别：面向的连接对象不同

  ![](https://chrishuppor.github.io/image/Snipaste_2020-04-23_15-10-47.png)

  * 其他区别
    * 协议不同
    * 传输层的提供差错校验，IP协议只校验首部
    * TCP协议可以提供可靠传输，IP协议只尽最大努力完成交付。

## UDP和TCP对应应用层协议

![](https://chrishuppor.github.io/image/Snipaste_2020-04-23_15-15-04.png)

## 端口号

软件端口本质是一种16位的地址，用来通信进程在主机上的地址。

端口号分类：

* 服务端用的端口号

  服务端进程使用的端口，一般固定

  * 熟知端口（0-1023）

    ![](https://chrishuppor.github.io/image/Snipaste_2020-04-23_15-16-34.png)

  * 登记端口（1024-49151）

* 客户端用的端口号（49152-65535）
  * 客户进程运行时暂时使用的端口，用完就换，不固定

## UDP

### 特点

（关键词：开销小，效率高，不可靠）

1. 无连接，尽最大努力交付——省去了连接的开销
2. 一次交付一个完整报文——不切割不合并报文，应用层的报文有多长，UDP照单全收。
3. 没有拥塞控制——效率高，不会因为网络拥塞而降低发送速率，适用于“允许少量数据丢失，不允许大时延”的情况。
4. 报文开销小——UDP首部仅8个字节